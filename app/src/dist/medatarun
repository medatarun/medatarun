#!/bin/sh

jvm_opts=""
app_args=""

for arg in "$@"; do
  case "$arg" in
    -D*|-X*|-XX:*)
      jvm_opts="$jvm_opts $arg"
      ;;
    *)
      app_args="$app_args \"$arg\""
      ;;
  esac
done

APP_OPTS="$APP_OPTS $jvm_opts"
export APP_OPTS
# shellcheck disable=SC2086
# Use eval to preserve quoted app arguments when forwarding to the Gradle script.
export MEDATARUN_HOME=$(dirname "$0")
eval "exec \"$MEDATARUN_HOME/bin/app\" $app_args"
